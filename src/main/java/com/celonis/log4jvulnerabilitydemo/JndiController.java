package com.celonis.log4jvulnerabilitydemo;

import static java.lang.String.format;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class JndiController {
    private static final Logger logger = LoggerFactory.getLogger(JndiController.class);

    @GetMapping("/jndi")
    public String jndi(@RequestParam(required = false) String q) {
        final var msg = format("Called /jndi with param '%s'", q);
        logger.info(msg);
        return msg;
    }

}
